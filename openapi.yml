openapi: 3.0.0
info:
  title: Dubai Auto API
  version: 0.0.1
  description: API for Dubai Auto

servers:
  - url: http://localhost:8080
    description: Local development server

paths:
  /api/v1/users/brands:
    get:
      summary: Get all car brands
      description: Retrieve a list of all available car brands
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Brand'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/brands/{id}/models:
    get:
      summary: Get models by brand ID
      description: Retrieve all car models for a specific brand
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: Brand ID
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Model'
        '404':
          description: Brand not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/body-types:
    get:
      summary: Get all body types
      description: Retrieve a list of all available car body types
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BodyType'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/transmissions:
    get:
      summary: Get all transmission types
      description: Retrieve a list of all available transmission types
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transmission'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/engines:
    get:
      summary: Get all engine types
      description: Retrieve a list of all available engine types
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Engine'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/drives:
    get:
      summary: Get all drive types
      description: Retrieve a list of all available drive types
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Drive'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/fuel-types:
    get:
      summary: Get all fuel types
      description: Retrieve a list of all available fuel types
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FuelType'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/cars:
    get:
      summary: Get all cars
      description: Retrieve a list of all available cars
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCarsResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/v1/users/cars:
    post:
      summary: Create a new car
      description: Create a new car
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCarRequest'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'



  /api/v1/auth/user-login:
    post:
      summary: User login
      description: Authenticate a user and return a token
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '401':
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  schemas:
    Brand:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    Model:
      type: object
      properties:
        id:
          type: integer
          format: int64
        brand_id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    BodyType:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    Transmission:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    Engine:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    Drive:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    FuelType:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
          nullable: true

    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string
          format: password

    LoginResponse:
      type: object
      properties:
        token:
          type: string
        user:
          type: object
          properties:
            id:
              type: integer
              format: int64
            email:
              type: string
              format: email
            name:
              type: string

    Error:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string

    CreateCarRequest:
      type: object
      required:
        - brand_id
        - model_id
        - body_type_id
        - year
        - phone_number
        - price
      properties:
        user_id:
          type: integer
          format: int64
        brand_id:
          type: integer
          format: int64
        region_id:
          type: integer
          format: int64
        city_id:
          type: integer
          format: int64
        model_id:
          type: integer
          format: int64
        transmission_id:
          type: integer
          format: int64
        engine_id:
          type: integer
          format: int64
        drive_id:
          type: integer
          format: int64
        body_type_id:
          type: integer
          format: int64
        fuel_type_id:
          type: integer
          format: int64
        ownership:
          type: integer
          format: int64
        year:
          type: integer
          format: int64
        exchange:
          type: boolean
        credit:
          type: boolean
        milage:
          type: integer
          format: int64
        vin_code:
          type: string
        door_count:
          type: integer
          format: int64
        phone_number:
          type: string
        price:
          type: integer
          format: int64
        new:
          type: boolean
        color:
          type: string
        credit_price:
          type: integer
          format: int64

    GetCarsResponse:
      type: object
      properties:
        id:
          type: integer
          format: int32
        brand:
          type: string
          nullable: true
        region:
          type: string
          nullable: true
        city:
          type: string
          nullable: true
        model:
          type: string
        transmission:
          type: string
          nullable: true
        engine:
          type: string
          nullable: true
        drive:
          type: string
          nullable: true
        body_type:
          type: string
        fuel_type:
          type: string
          nullable: true
        year:
          type: integer
          format: int32
        price:
          type: integer
          format: int32
        mileage:
          type: integer
          format: int32
          nullable: true
        vin_code:
          type: string
          nullable: true
        exchange:
          type: boolean
          nullable: true
        credit:
          type: boolean
          nullable: true
        new:
          type: boolean
          nullable: true
        color:
          type: string
          nullable: true
        credit_price:
          type: integer
          format: int32
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
        images:
          type: array
          items:
            type: string
          nullable: true
        phone_number:
          type: string
          nullable: true
          
      